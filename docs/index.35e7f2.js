"use strict";(self.webpackChunkantd_form_render=self.webpackChunkantd_form_render||[]).push([[826],{390:(e,t,r)=>{var n=r(7294),l=r(745),a=r(885),o=r(5935),u=r(4255),c=r(5320),i=r(7862),m=r(1230),s=r(7462),p=r(4942),d=r(4925),y=r(1002),f=r(5746),E=["type","name","rules","label","elProps","itemProps","render"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Z=function(e){var t=e.item,r=e.span,l=void 0===r?24:r,a=e.layoutType,o=void 0===a?"row":a,c=t;if("function"==typeof c.getJSON&&(c=c.getJSON()),"object"!==(0,y.Z)(c)||!c)return null;var i=c,m=i.type,p=i.name,v=i.rules,Z=i.label,g=i.elProps,h=void 0===g?{}:g,P=i.itemProps,O=void 0===P?{}:P,w=i.render,j=(0,d.Z)(i,E),k={};return"row"===o&&(k=b(b({},k),{},{span:l})),n.createElement("row"===o?f.Z:n.Fragment,k,w?w():n.createElement(u.Z.Item,(0,s.Z)({name:p,label:Z,rules:v},O),n.createElement(m,b(b({},j),h))))};var g=r(9650),h=["layoutData"];function P(e){var t=e.layoutData,r=(0,d.Z)(e,h);return n.createElement(g.Z,r,t.map((function(e,t){return n.createElement(Z,{item:e,key:t,layoutType:"space"})})))}var O=("Number",function(e){return Object.prototype.toString.call(e)==="[object ".concat("Number","]")}),w=function(e){return n.createElement("div",{className:"afr-flex"},e.map((function(e,t){var r=e.length;if(24%r!=0)throw new Error("数组的长度必须能被24整除");var l=24/r;return n.createElement(m.Z,{key:t,gutter:{xs:8,sm:16,md:24}},e.map((function(e,t){return n.createElement(Z,{item:e,key:t,span:l,layoutType:"row"})})))})))};function j(e){var t=e.layoutData,r=e.cols,l=void 0===r?1:r,a=!1,o=t[0];if(Array.isArray(o)||(a=!0),a&&O(l)&&l>1&&l<=4){var u=t,c=[];do{if(u.length>=l)c.push(u.slice(0,l)),u.splice(0,l);else{for(var i=l-u.length;i--;)u.push({render:function(){return null}});c.push(u.slice(0,l)),u.length=0}}while(u.length);return w(c)}return a?n.createElement("div",{className:"afr-flex"},n.createElement(m.Z,null,t.map((function(e,t){return n.createElement(Z,{item:e,key:t,span:24,layoutType:"row"})})))):w(t)}const k=function(){var e=u.Z.useForm(),t=(0,a.Z)(e,1)[0],r=[{type:c.Z,label:"手机号",placeholder:"请输入",name:"tel",elProps:{maxLength:11},itemProps:{rules:[{required:!0,message:"请输入"},{pattern:/^1\d{10}$/,message:"手机号必须为11位数字"}]}},{type:c.Z.Password,label:"密码",placeholder:"请输入",name:"pwd",itemProps:{rules:[{required:!0,message:"请输入"}]}},{render:function(){return n.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n.createElement(i.Z,{type:"primary",htmlType:"submit",style:{width:120}},"登录"))}}];return n.createElement("div",{style:{width:400,paddingTop:32}},n.createElement(u.Z,{form:t,labelCol:{span:4},labelAlign:"left"},n.createElement(j,{layoutData:r})))};var x=r(5627);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const F=function(){var e=u.Z.useForm(),t=(0,a.Z)(e,1)[0],r=u.Z.useForm(),l=(0,a.Z)(r,1)[0],o=(0,n.useState)({}),c=(0,a.Z)(o,2),i=c[0],m=c[1],s=[{type:x.ZP.Group,label:"性别",name:"gender",elProps:{options:[{label:"男",value:"男生"},{label:"女",value:"女生"}]}},{type:"div",label:"你是",elProps:{children:(null==i?void 0:i.gender)||"未选择"}}],p=[{type:x.ZP.Group,label:"性别",name:"gender",elProps:{options:[{label:"男",value:"男生"},{label:"女",value:"女生"}]}},{render:function(){return n.createElement(u.Z.Item,{label:"你是",dependencies:["gender"]},(function(){return l.getFieldValue("gender")||"未选择"}))}},{render:function(){return n.createElement(u.Z.Item,{shouldUpdate:!0,label:"你是"},(function(){return l.getFieldValue("gender")}))}}];return n.createElement("div",null,n.createElement("p",null,"1.定义onValuesChange 同步状态到state , 触发全量渲染实现表单联动"),n.createElement(u.Z,{form:t,onValuesChange:function(e){m((function(t){return C(C({},t),e)}))}},n.createElement(j,{layoutData:s})),n.createElement("p",null,"2.基于Form.Item dependency/shouldUpdate 实现表单联动,局部渲染"),n.createElement(u.Z,{form:l},n.createElement(j,{layoutData:p})))},S=function(){for(var e=[],t=(0,n.useState)(4),r=(0,a.Z)(t,2),l=r[0],o=r[1],i=0;i<11;i++)e.push({type:c.Z,label:"输入框".concat(i+1),placeholder:"请输入",name:"name".concat(i)});return n.createElement("div",{style:{paddingTop:32,width:800}},n.createElement(u.Z,{layout:"vertical"},n.createElement("div",{style:{marginBottom:24}},n.createElement(x.ZP.Group,{onChange:function(e){return o(Number(e.target.value))},optionType:"button",value:l},n.createElement(x.ZP,{value:1},"1行1列"),n.createElement(x.ZP,{value:2},"1行2列"),n.createElement(x.ZP,{value:3},"1行3列"),n.createElement(x.ZP,{value:4},"1行4列"))),n.createElement(j,{layoutData:e,cols:l})))},T=function(){for(var e=[],t=(0,n.useState)(8),r=(0,a.Z)(t,2),l=r[0],o=r[1],i=0;i<3;i++)e.push({type:c.Z,label:"输入框".concat(i+1),placeholder:"请输入",name:"name".concat(i)});return n.createElement("div",{style:{paddingTop:32,width:800}},n.createElement(u.Z,{layout:"horizontal"},n.createElement("div",{style:{marginBottom:24}},n.createElement(x.ZP.Group,{onChange:function(e){return o(Number(e.target.value))},optionType:"button",value:l},n.createElement(x.ZP,{value:8},"8px"),n.createElement(x.ZP,{value:16},"16px"),n.createElement(x.ZP,{value:24},"24px"),n.createElement(x.ZP,{value:32},"32px"))),n.createElement(P,{layoutData:e,size:l})))},N=function(){var e=[[{type:c.Z,label:"姓名",name:"name",rules:[{required:!0,message:"请填写"}],elProps:{placeholder:"请填写姓名"}},{type:x.ZP.Group,label:"性别",name:"gender",rules:[{required:!0,message:"请选择"}],elProps:{options:[{label:"女",value:0},{label:"男",value:1}]}}],[{type:c.Z.TextArea,label:"个人简",elProps:{rows:6},placeholder:"请输入",name:"bio"}],[{render:function(){return n.createElement(g.Z,{style:{justifyContent:"flex-end",width:"100%"}},n.createElement(i.Z,{type:"default"},"取消"),n.createElement(i.Z,{type:"primary"},"保存"))}}]];return n.createElement("div",{style:{width:600}},n.createElement(u.Z,null,n.createElement(j,{layoutData:e})))};var V=r(2982);const G=function(){var e=u.Z.useForm(),t=(0,a.Z)(e,1)[0],r=(0,n.useState)({gender:"0",tels:["15901634301","17721222222"],name:"leon"}),l=(0,a.Z)(r,2),o=l[0],m=l[1],s=(0,n.useState)((0,V.Z)(o.tels)),p=(0,a.Z)(s,2),d=p[0],y=p[1],f=null==d?void 0:d.map((function(e,r){return{render:function(){return n.createElement(g.Z,{align:"start",style:{width:"100%"}},n.createElement(u.Z.Item,{name:["tels",r],rules:[{pattern:/^1\d{10}$/,message:"请输入正确的手机号码"}],validateTrigger:"onBlur"},n.createElement(c.Z,{maxLength:11,placeholder:"请输手机号",style:{width:350}})),d.length>1&&n.createElement(i.Z,{type:"link",onClick:function(){var e=t.getFieldValue("tels");e.splice(r,1),t.setFieldsValue({tels:(0,V.Z)(e)}),y((0,V.Z)(e))}},"删除"))}}})),E=[{type:c.Z,label:"姓名",name:"name",rules:[{required:!0,message:"请填写"}],elProps:{placeholder:"请填写姓名"}},{render:function(){return n.createElement("div",{style:{margin:"12px 0"}},"手机号")}}].concat((0,V.Z)(f),[{render:function(){return n.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n.createElement(i.Z,{type:"link",style:{padding:0},onClick:function(){var e=t.getFieldValue("tels")||[""],r=[].concat((0,V.Z)(e),[""]);t.setFieldsValue({tels:r}),y(r)}},"+ 手机号"))}},{type:x.ZP.Group,label:"性别",name:"gender",elProps:{options:[{label:"女",value:"0"},{label:"男",value:"1"}]}},{getJSON:function(){return void 0!==o.gender?{label:"性别",type:"div",children:"1"==o.gender?"男":"女"}:null}},{render:function(){return n.createElement(g.Z,{style:{justifyContent:"flex-end",width:"100%"}},n.createElement(i.Z,{type:"default",onClick:function(){return t.resetFields()}},"取消"),n.createElement(i.Z,{type:"primary",htmlType:"submit"},"保存"))}}]);return n.createElement("div",null,n.createElement(u.Z,{form:t,style:{width:400},layout:"vertical",initialValues:o,onFinish:function(e){console.log(e)},onValuesChange:function(e,t){m(t)}},n.createElement(j,{layoutData:E})))};var I=o.Z.TabPane;const q=function(){var e=(0,n.useState)("1"),t=(0,a.Z)(e,2),r=t[0],l=t[1];return n.createElement("div",null,n.createElement(o.Z,{defaultActiveKey:"1",activeKey:r,onChange:l,style:{padding:"0 20px"}},n.createElement(I,{tab:"一行一列",key:"1"},n.createElement(k,null)),n.createElement(I,{tab:"一行N列",key:"2"},n.createElement(S,null)),n.createElement(I,{tab:"等间距排列",key:"3"},n.createElement(T,null)),n.createElement(I,{tab:"二维数组自定义布局",key:"4"},n.createElement(N,null)),n.createElement(I,{tab:"表单联动",key:"5"},n.createElement(F,null)),n.createElement(I,{tab:"动态增删",key:"6"},n.createElement(G,null))))};(0,l.s)(document.getElementById("root")).render(n.createElement(q,null))}},e=>{e.O(0,[736],(()=>(390,e(e.s=390)))),e.O()}]);